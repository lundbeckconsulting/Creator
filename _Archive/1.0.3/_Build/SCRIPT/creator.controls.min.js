"use strict";$(document).ready(function(){function u(){if($(i).length>0){var t=document.createElement("div");t.id=C.Const.ModalBlackoutName;$("body").prepend(t);n=$("#"+C.Const.ModalBlackoutName)}}function f(t){var i=arguments.length<=1||arguments[1]===undefined?null:arguments[1];$(t).fadeOut("fast",function(){function u(){i!=null&&i()}$(t).trigger("modal:close");$(r).length==0?n.fadeOut("slow",function(){u()}):u()})}function t(){var n=$(r);$.each(n,function(){f(this)})}var n,i="[class^='modal']",r=i+":visible";(function(){u()})();$(".modal").on("modal:show",function(){var t=this;n.fadeIn("slow",function(){$(t).fadeIn("fast",function(){$(t).trigger("modal:visible")})})});$(".modal").on("modal:hide",function(){t()});$(".show-modal").click(function(n){n.preventDefault();var t="#"+$(this).data("modal");$(t).trigger("modal:show")});$(".close-modal").click(function(n){n.preventDefault();$(".modal").trigger("modal:hide")});$("#"+C.Const.ModalBlackoutName).click(function(){t()});$(document).keyup(function(i){i.keyCode===27&&n.is(":visible")&&t()})});