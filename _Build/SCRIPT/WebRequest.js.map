{"version":3,"sources":["WebRequest.js"],"names":["$","RequestModes","SameOrigin","NoCors","Cors","RequestMethods","GET","POST","PUT","DELETE","RequestCredentials","Include","Omit","RequestResult","rsp","dt","response","data","success","ok","status","statusText","WebRequest","Call","controller","action","query","method","mode","credentials","fetch","GetUrl","toUpperCase","headers","body","JSON","stringify","json","then","result","i","q"],"mappings":"AAAAA,CAAC,CAAC,MAAM;AACJ,MAAIC,YAAY,GAAG;AACfC,IAAAA,UAAU,EAAE,aADG;AAEfC,IAAAA,MAAM,EAAE,SAFO;AAGfC,IAAAA,IAAI,EAAE;AAHS,GAAnB;AAMA,MAAIC,cAAc,GAAG;AACjBC,IAAAA,GAAG,EAAE,CADY;AAEjBC,IAAAA,IAAI,EAAE,CAFW;AAGjBC,IAAAA,GAAG,EAAE,CAHY;AAIjBC,IAAAA,MAAM,EAAE;AAJS,GAArB;AAOA,MAAIC,kBAAkB,GAAG;AACrBC,IAAAA,OAAO,EAAE,SADY;AAErBC,IAAAA,IAAI,EAAE,MAFe;AAGrBV,IAAAA,UAAU,EAAE;AAHS,GAAzB;;AAMA,QAAMW,aAAa,GAAG,CAACC,GAAD,EAAMC,EAAN,KAAa;AAC/B,QAAIC,QAAQ,GAAGF,GAAf;AACA,QAAIG,IAAI,GAAGF,EAAX;AACA,QAAIG,OAAO,GAAGJ,GAAG,CAACK,EAAlB;AACA,QAAIC,MAAM,GAAGN,GAAG,CAACM,MAAjB;AACA,QAAIC,UAAU,GAAGP,GAAG,CAACO,UAArB;AACH,GAND;;AAQA,QAAMC,UAAN,CAAiB;AACb,iBAAaC,IAAb,CAAkBC,UAAlB,EAA8BC,MAA9B,EAAsCC,KAAK,GAAG,EAA9C,EAAkDT,IAAI,GAAG,EAAzD,EAA6DU,MAAM,GAAGtB,cAAc,CAACE,IAArF,EAA2FqB,IAAI,GAAG3B,YAAY,CAACC,UAA/G,EAA2H2B,WAAW,GAAGnB,kBAAkB,CAACR,UAA5J,EAAwK;AACpK,UAAIc,QAAQ,GAAG,MAAMc,KAAK,CAACR,UAAU,CAACS,MAAX,CAAkBP,UAAlB,EAA8BC,MAA9B,EAAsCC,KAAtC,CAAD,EAA+C;AACrEC,QAAAA,MAAM,EAAEA,MAAM,CAACK,WAAP,EAD6D;AAErEC,QAAAA,OAAO,EAAE;AACL,0BAAgB;AADX,SAF4D;AAKrEJ,QAAAA,WAAW,EAAEA,WALwD;AAMrEK,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAenB,IAAf,CAN+D;AAOrEW,QAAAA,IAAI,EAAEA;AAP+D,OAA/C,CAA1B;AAUAZ,MAAAA,QAAQ,CAACqB,IAAT,GACKC,IADL,CACU,UAAUrB,IAAV,EAAgB;AAClB,eAAOJ,aAAa,CAACG,QAAD,EAAWC,IAAX,CAApB;AACH,OAHL;AAIH;;AAED,WAAOc,MAAP,CAAcP,UAAd,EAA0BC,MAA1B,EAAkCC,KAAK,GAAG,EAA1C,EAA8C;AAC1C,UAAIa,MAAM,GAAG,MAAMf,UAAN,GAAmB,GAAnB,GAAyBC,MAAtC;AAEA,UAAIe,CAAC,GAAG,CAAR;;AACA,WAAK,IAAIC,CAAT,IAAcf,KAAd,EAAqB;AACjB,YAAIc,CAAC,KAAK,CAAV,EAAa;AACTD,UAAAA,MAAM,IAAI,GAAV;AACH,SAFD,MAGK;AACDA,UAAAA,MAAM,IAAI,GAAV;AACH;;AAEDA,QAAAA,MAAM,IAAIE,CAAC,CAAC,CAAD,CAAD,GAAO,GAAP,GAAaA,CAAC,CAAC,CAAD,CAAxB;AAEAD,QAAAA,CAAC;AACJ;;AAED,aAAOD,MAAP;AACH;;AApCY;AAsCpB,CAlEA,CAAD","sourcesContent":["$(() => {\r\n    var RequestModes = {\r\n        SameOrigin: \"same-origin\",\r\n        NoCors: \"no-cors\",\r\n        Cors: \"cors\"\r\n    };\r\n\r\n    var RequestMethods = {\r\n        GET: 0,\r\n        POST: 1,\r\n        PUT: 2,\r\n        DELETE: 3\r\n    };\r\n\r\n    var RequestCredentials = {\r\n        Include: \"include\",\r\n        Omit: \"omit\",\r\n        SameOrigin: \"same-origin\"\r\n    };\r\n\r\n    const RequestResult = (rsp, dt) => {\r\n        var response = rsp;\r\n        var data = dt;\r\n        var success = rsp.ok;\r\n        var status = rsp.status;\r\n        var statusText = rsp.statusText;\r\n    };\r\n\r\n    class WebRequest {\r\n        static async Call(controller, action, query = {}, data = {}, method = RequestMethods.POST, mode = RequestModes.SameOrigin, credentials = RequestCredentials.SameOrigin) {\r\n            var response = await fetch(WebRequest.GetUrl(controller, action, query), {\r\n                method: method.toUpperCase(),\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                credentials: credentials,\r\n                body: JSON.stringify(data),\r\n                mode: mode\r\n            });\r\n\r\n            response.json()\r\n                .then(function (data) {\r\n                    return RequestResult(response, data);\r\n                });\r\n        }\r\n\r\n        static GetUrl(controller, action, query = {}) {\r\n            var result = \"/\" + controller + \"/\" + action;\r\n\r\n            var i = 0;\r\n            for (var q in query) {\r\n                if (i === 0) {\r\n                    result += \"?\";\r\n                }\r\n                else {\r\n                    result += \"&\";\r\n                }\r\n\r\n                result += q[0] + \"=\" + q[1];\r\n\r\n                i++;\r\n            }\r\n\r\n            return result;\r\n        }\r\n    }\r\n});"],"file":"WebRequest.js"}